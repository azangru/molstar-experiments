var y=Object.defineProperty,v=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var m=(t,e,r)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u=(t,e)=>{for(var r in e||(e={}))C.call(e,r)&&m(t,r,e[r]);if(g)for(var r of g(e))P.call(e,r)&&m(t,r,e[r]);return t},f=(t,e)=>v(t,w(e));import{D as R,P as x,r as o,j as a,F as b,a as l,c as S,b as I,d as F,s as U,C as _,e as j,S as M,f as k,g as D,h as p,t as T,i as O,R as E,k as N}from"./vendor.bf93d145.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};A();const W="_container_jjy5m_1",z="_containerWithUI_jjy5m_6";var h={container:W,containerWithUI:z};const L=f(u({},R()),{config:[[x.VolumeStreaming.Enabled,!1]]});async function Q({parent:t,url:e}){const r=await S(t,L),c=await r.builders.data.download({url:"https://alphafold.ebi.ac.uk/files/AF-Q9S745-F1-model_v1.cif"},{state:{isGhost:!0}}),n=await r.builders.structure.parseTrajectory(c,"mmcif");return await r.builders.structure.hierarchy.applyPreset(n,"default"),r}const V=()=>{const t=o.exports.useRef(null);return o.exports.useEffect(()=>{Q({parent:t.current,url:"https://alphafold.ebi.ac.uk/files/AF-Q9S745-F1-model_v1.cif"})},[]),a(b,{children:l("div",{children:[a("h1",{children:"Plugin context with default UI"}),a("div",{ref:t,className:h.containerWithUI})]})})},q=u({},I()),$=async t=>{const{canvas:e,parent:r,url:c}=t,n=new F(q);if(await n.init(),!n.initViewer(e,r)){console.error("Failed to init Mol*");return}const s=await n.builders.data.download({url:c},{state:{isGhost:!0}}),i=await n.builders.structure.parseTrajectory(s,"mmcif");await n.builders.structure.hierarchy.applyPreset(i,"default")},G=()=>{const t=o.exports.useRef(null),e=o.exports.useRef(null);return o.exports.useEffect(()=>{$({parent:t.current,canvas:e.current,url:"https://alphafold.ebi.ac.uk/files/AF-Q9S745-F1-model_v1.cif"})},[]),l("div",{children:[a("h1",{children:"Plugin context without default UI"}),a("div",{ref:t,className:h.container,children:a("canvas",{ref:e})})]})},B=async t=>{const r=await O.parse(t).run();if(r.isError)throw r;return r.result},J=async t=>{const e=await fetch(t).then(r=>r.text());return B(e)},K=async t=>await T(t).run(),H=t=>M.ofModel(t),X=async t=>{const{canvas:e}=t;U(e,512,512);const r=_.create(j.fromCanvas(e));r.animate();const c=await J("https://alphafold.ebi.ac.uk/files/AF-Q9S745-F1-model_v1.cif"),n=await K(c.blocks[0]),s=H(n.representative),i={webgl:r.webgl,colorThemeRegistry:k.createRegistry(),sizeThemeRegistry:D.createRegistry()},d=p.factory(i,p.getParams);d.setTheme({color:i.colorThemeRegistry.create("uniform",{structure:s}),size:i.sizeThemeRegistry.create("shape-group",{structure:s})}),await d.createOrUpdate(f(u({},p.defaultValues),{quality:"auto"}),s).run(),r.add(d),r.requestCameraReset()},Y=()=>{const t=o.exports.useRef(null),e=o.exports.useRef(null);return o.exports.useEffect(()=>{X({canvas:e.current})},[]),l("div",{children:[a("h1",{children:"Only canvas"}),a("div",{ref:t,className:h.container,children:a("canvas",{ref:e})})]})},Z="_grid_1px7l_1";var ee={grid:Z};function te(){const[t,e]=o.exports.useState("plugin-without-ui");return l("div",{className:ee.grid,children:[l("nav",{children:[a("span",{onClick:()=>e("plugin-without-ui"),children:"Plugin without default UI"}),a("span",{onClick:()=>e("plugin-with-ui"),children:"Plugin with default UI"}),a("span",{onClick:()=>e("canvas3d"),children:"Just canvas3D"})]}),a(re,{view:t})]})}const re=({view:t})=>{let e;return t==="plugin-without-ui"?e=a(G,{}):t==="plugin-with-ui"?e=a(V,{}):t==="canvas3d"?e=a(Y,{}):e=null,a("main",{children:e})};E.render(a(N.StrictMode,{children:a(te,{})}),document.getElementById("root"));
